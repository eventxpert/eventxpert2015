<html xmlns="http://www.w3c.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<f:view contentType="text/html">
	<h:body>

		<ui:composition template="/template/user/commonLayout.xhtml">
			<ui:define name="content">

				<style type="text/css">
.ui-state-default,.ui-widget-content .ui-state-default,.ui-widget-header .ui-state-default
	{
	border: 1px solid #FFFFFF;
}

.custom .ui-widget-header {
	background: none repeat scroll 0 0 #000000 !important;
	font-size: 14px;
}

.custom .ui-widget-content .ui-state-default {
	border: 1px solid #FFFFFF;
}

.custom .ui-datatable-tablewrapper .ui-state-default {
	background: inherit;
    border: 1px solid #ffffff;
    color: #000000;
    font-size: 14px;
}

.ui-datatable-data .ui-widget-content {
	font-size: 14px;
}

.ui-panel {
	padding: 0px;
}

.ui-datatable-tablewrapper .ui-state-default {
	border: 1px solid #FFFFFF;
	background: inherit;
	color: #000000;
	font-size: 14px;
}

.ui-tabs .ui-tabs-panel {
	padding: 0;
}

.ui-datatable table {
	border-left: 2px solid #FFFFFF;
	border-right: 2px solid #FFFFFF;
}

.ui-datatable thead th,.ui-datatable tbody td,.ui-datatable tfoot td {
	border-style: none;
}
</style>

				<div class="content-bg clear-both">
					<!--lt-flap starts-->
					<div class="lt-flap">
						<img src="images/left.png" />
					</div>
					<!--lt-flap ends-->
					<!--messag-heart starts-->
					<div class="flap-mid">
						<div class="black-shade">
							<div class="clear home">
								<!--Home &gt; &#160; Welcome #{customerManagedBean.customerInfo.firstname}-->
								<span></span>&#160;
							</div>
						</div>
					</div>
					<!--messag-heart ends-->
					<!--rt-flap starts-->
					<div class="rt-flap">
						<img src="images/right.png" />
					</div>
					<!--rt-flap ends-->
					<div class="clear">
						<!--mid contents starts-->
						<div class="mid-content">
							<!--select details starts-->
							<div class="clear">
								<!--<h1 id="h1title">Enter&#160;<span>#{eventDetailsManagedBean.eventType}</span>&#160;Requirements
							</h1>-->
								<h1 id="h1title">Select&#160;#{eventDetailsManagedBean.eventType}&#160;Packages
								</h1>
							</div>
							<!--select details ends-->
							<h:form id="frm">
								<div class="clear" style="padding-bottom: 80px">
									<div>
										<p:commandLink styleClass="box-flip"
											value="Goto Previous Page"
											action="#{eventDetailsManagedBean.returnToSummaryPage}"
											ajax="false">
											<p:effect type="pulsate" />
										</p:commandLink>
									</div>
									<!--details head starts-->
									<div class="box-nav1 active" id="divdetails">2.Select
										Vendor Package</div>
									<!--details head ends-->
									<!--summary head starts-->
									<div class="box-nav2 active" id="divsummary">2.1 Package
										Details</div>
									<!--summary head ends-->
								</div>
								<h:outputText value="No halls available"
									rendered="#{empty eventDetailsManagedBean.hallMap}"></h:outputText>

								<p:tabView scrollable="true"
									rendered="#{eventDetailsManagedBean.popupViewVenue.venueTypeId == 3}"
									activeIndex="#{eventDetailsManagedBean.setTabIndex}"
									style="width:830px;" widgetVar="tabVar" dynamic="false"
									cache="true">
									<p:ajax event="tabChange"
										listener="#{eventDetailsManagedBean.onTabChange}"
										update="@all" />
									<c:forEach id="foreachNew"
										rendered="#{not empty eventDetailsManagedBean.hallMap}"
										items="#{eventDetailsManagedBean.hallMap.entrySet().toArray()}"
										varStatus="stat" var="allS">

										<p:tab id="servicesTabS#{stat.count}" title="#{allS.value}">
											<div class="contentVendor" id="maindiv2">
												<!--details ends-->
												<!--summary details left panel starts-->
												<table>
													<tr>
														<td>
															<div class="headsleft">
																<h1>#{allS.value}</h1>
																<span class="txt4"><span id="spnHotelAddress">#{eventDetailsManagedBean.popupViewVenue.venueName},
																		#{eventDetailsManagedBean.popupViewVenue.areaName},
																		#{eventDetailsManagedBean.popupViewVenue.cityName}</span></span> <br />

															</div>
														</td>
														<td>
															<div style="width: 380px;" id="pkgAmtId">
																<table style="float: right;">
																	<tr>
																		<td><h:outputText styleClass="popUpAmtLineThru"
																				value="Rs. #{eventDetailsManagedBean.getCost(eventDetailsManagedBean.popupViewVenue.venueCost)}"
																				rendered="#{(empty eventDetailsManagedBean.finalVenueInfo)}" />
																		</td>
																	</tr>
																	<tr>
																		<td><h:outputText styleClass="vheadText bold"
																				style="font-size: 22px;"
																				value="Rs. #{eventDetailsManagedBean.getCost(eventDetailsManagedBean.popupViewVenue.finalCOST)}"
																				rendered="#{(empty eventDetailsManagedBean.finalVenueInfo)}" />
																		</td>
																	</tr>
																	<tr>
																		<td><h:outputText styleClass="vheadText bold"
																				style="font-size: 22px;"
																				value="Rs. #{eventDetailsManagedBean.getCost(eventDetailsManagedBean.finalVenueInfo.cost)}"
																				rendered="#{(not empty eventDetailsManagedBean.finalVenueInfo)}" />
																		</td>
																	</tr>
																</table>
															</div>
														</td>
													</tr>
												</table>
												<br />
												<table>
													<tr>
														<td valign="top">
															<div class="venue-image">
																<!-- venue images here -->
																<p:panel style="width:300px;margin-left:-25px;">
																	<p:galleria panelHeight="200" panelWidth="290"
																		showFilmstrip="false" style="margin-left:-12px;"
																		value="#{eventDetailsManagedBean.hotelHallImages}"
																		var="image">
																		<p:graphicImage height="200px" width="290px"
																			value="#{image}" />
																	</p:galleria>
																	<p:lightBox>
																		<ui:repeat
																			value="#{eventDetailsManagedBean.hotelHallImages}"
																			var="ima">
																			<h:outputLink value="#{ima}">
																				<p:graphicImage value="#{ima}" width="25"
																					height="25" />
																			</h:outputLink>
																		</ui:repeat>
																	</p:lightBox>
																</p:panel>
															</div>
														</td>
														<td valign="top">

															<div
																style="margin-right: -25px; margin-left: 35px; width: 490px;">
																<div class="box-new1  bcgColor elementPackageHeading">Description</div>
																<table>
																	<tr>
																		<td><h:outputText styleClass="txtVendor"
																				value="#{eventDetailsManagedBean.hallLocalMap.get(allS.key).description}"></h:outputText>																			
																		</td>
																	</tr>
																</table>
																<div class="box-new1  bcgColor elementPackageHeading">Capacity</div>
																<table>
																	<tr>
																		<td><h:outputText styleClass="txtVendor"
																				value="#{eventDetailsManagedBean.hallLocalMap.get(allS.key).capacity}"></h:outputText>
																		</td>
																	</tr>
																</table>
																<div class="box-new1 bcgColor elementPackageHeading">Air
																	Condition</div>
																<table>
																	<tr>
																		<td><h:outputText styleClass="txtVendor"
																				value="#{eventDetailsManagedBean.hallLocalMap.get(allS.key).airConditioned}"></h:outputText>
																		</td>
																	</tr>
																</table>
																<div class="box-new1  bcgColor elementPackageHeading">Stage</div>
																<table>
																	<tr>
																		<td><h:outputText styleClass="txtVendor"
																				value="#{eventDetailsManagedBean.hallLocalMap.get(allS.key).stage}"></h:outputText>
																		</td>
																	</tr>
																</table>
															</div>
														</td>
													</tr>
												</table>
												<br />

												<!-- <div class="middle">
												<div class="box-new  bcgColor" style="width: 800px;">Other
													Services</div>

												<div style="padding: 10px 10px 10px 10px;">
													<h:panelGroup>
														<img title="Bar" src="images/service-bar.jpg" />
													</h:panelGroup>
													<h:panelGroup
														rendered="#{(popupViewVenue.isParkingAvailable==Y)}">
														<img title="Car Park" src="images/service-car.jpg" />
													</h:panelGroup>
													<h:panelGroup>
														<img title="Clinic" src="images/service-clinic.jpg" />
													</h:panelGroup>
												</div>
												</div> -->
												<div class="middle" style="width: 800px;">
													<p:dataTable var="pkg" styleClass="custom"
														value="#{eventDetailsManagedBean.venuePackages}"
														rowKey="#{pkg.packageId}">
														<f:facet name="header"> List of Packages  </f:facet>

														<p:column>
															<f:facet name="header">Package Name</f:facet>
															<p:commandLink value="#{pkg.packageName}" update="@form"
																action="#{eventDetailsManagedBean.populatePkgImgData}"
																oncomplete="pkgImgModel.show()" ajax="true"
																styleClass="commandlink">
																<f:setPropertyActionListener
																	target="#{eventDetailsManagedBean.packId}"
																	value="#{pkg.packageId}"></f:setPropertyActionListener>
															</p:commandLink>
														</p:column>

														<p:column>
															<f:facet name="header">Package Description </f:facet>
															<h:outputText style="white-space: pre-line"
																value="#{pkg.description}" />
														</p:column>
                                                                                                                 <p:column>
                                                                                                                    <f:facet name="header">Event Type</f:facet>
                                                                                                                    <h:outputText value="#{eventDetailsManagedBean.eventType}" />
                                                                                                                </p:column>                                           
														<p:column>
															<f:facet name="header">Package Cost</f:facet>
															<h:outputText value="Rs. #{pkg.cost} #{pkg.unitOfCost}" />
														</p:column>

														<p:column
															rendered="#{eventDetailsManagedBean.popupViewVenue.venueTypeId == 3}">
															<f:facet name="header"> Total Cost <br /> (Package Cost*Total Guests) </f:facet>
															<h:outputText style="text-decoration:line-through"
																value="Rs. #{eventDetailsManagedBean.getCost(pkg.cost*eventDetailsManagedBean.totalCount)} ">
																<f:convertNumber pattern="#" />
															</h:outputText>
															<br />
															<h:outputText styleClass="vheadText bold"
																value="Rs. #{eventDetailsManagedBean.getCost(pkg.finalAmount*eventDetailsManagedBean.totalCount)} ">
																<f:convertNumber pattern="#" />
															</h:outputText>
														</p:column>
														<p:column
															rendered="#{eventDetailsManagedBean.popupViewVenue.venueTypeId != 3}">
															<f:facet name="header"> Total Cost <br /> (Package Cost)  </f:facet>
															<h:outputText style="text-decoration:line-through"
																value="Rs. #{pkg.cost}">
																<f:convertNumber pattern="#" />
															</h:outputText>
															<br />
															<h:outputText styleClass="vheadText bold"
																value="Rs. #{pkg.finalAmount}">
																<f:convertNumber pattern="#" />
															</h:outputText>
														</p:column>

														<p:column>
															<f:facet name="header">Select </f:facet>
															<p:commandButton update="servicesTab0" value="Book Now"
																styleClass="button_style" style="color: #000000;"
																type="submit"
																rendered="#{eventDetailsManagedBean.finalVenueInfo.packageId != pkg.packageId}"
																action="#{eventDetailsManagedBean.selectedFinalVenuePopup(pkg.packageId)}"
																ajax="false" onclick="PF('buiload').show()" />
														</p:column>

													</p:dataTable>
												</div>

												<br />

												<div class="popText">
													<table>
														<tr>
															<td><h:outputText
																	style="font-style: normal; font-size: 20px; color: #000000; font-weight: bold;"
																	value="About #{eventDetailsManagedBean.popupViewVenue.venueName}" /></td>
															<td style="float: right;"><a
																href="http://maps.google.com/?q= #{eventDetailsManagedBean.center}"
																style="font-weight: bold; font-size: 12px; color: #980000;"
																target="_NEW">Google Map</a></td>
														</tr>
													</table>
													<h:outputText styleClass="txt5"
														value="#{eventDetailsManagedBean.popupViewVenue.venueName},
																		#{eventDetailsManagedBean.popupViewVenue.areaName},
																		#{eventDetailsManagedBean.popupViewVenue.cityName}" />
													<br />
													<h:outputText styleClass="txtVendor"
														value="#{eventDetailsManagedBean.popupViewVenue.venueDesc}" />
												</div>

												<div class="middle" style="width: 800px;">
													<p:galleria panelHeight="600" panelWidth="800"
														showFilmstrip="true"
														style="margin-left:5px;background: #000000;"
														value="#{eventDetailsManagedBean.hotelImages}" var="image">
														<p:graphicImage value="#{image}" />
													</p:galleria>
												</div>
												<br />
												<p:spacer width="100px" height="10px" />
												<br />
											</div>

										</p:tab>

									</c:forEach>

								</p:tabView>




								<p:panel
									rendered="#{(eventDetailsManagedBean.popupViewVenue.venueTypeId != 3) and (not empty eventDetailsManagedBean.hallMap)}"
									style="width:830px;">
									<div class="contentVendor" id="maindiv2">
										<!--details ends-->
										<!--summary details left panel starts-->
										<table>
											<tr>
												<td>
													<div class="headsleft">
														<h1>#{eventDetailsManagedBean.venuePkg.packageName}</h1>
														<span class="txt4"><span id="spnHotelAddress">#{eventDetailsManagedBean.popupViewVenue.venueName},
																#{eventDetailsManagedBean.popupViewVenue.areaName},
																#{eventDetailsManagedBean.popupViewVenue.cityName}</span></span> <br />

													</div>
												</td>
												<td>
													<div style="width: 380px;">
														<table style="float: right">
															<tr>
																<td><h:outputText styleClass="popUpAmtLineThru"
																		value="Rs. #{eventDetailsManagedBean.getCost(eventDetailsManagedBean.venuePkg.cost)}"
																		rendered="#{(empty eventDetailsManagedBean.finalVenueInfo)}" />
																</td>
															</tr>
															<tr>
																<td><h:outputText styleClass="vheadText bold"
																		style="font-size: 22px;"
																		value="Rs. #{eventDetailsManagedBean.getCost(eventDetailsManagedBean.venuePkg.finalAmount)}"
																		rendered="#{(empty eventDetailsManagedBean.finalVenueInfo)}" />
																</td>
															</tr>
															<tr>
																<td><h:outputText styleClass="vheadText bold"
																		style="font-size: 22px;"
																		value="Rs. #{eventDetailsManagedBean.getCost(eventDetailsManagedBean.venuePkg.cost)}"
																		rendered="#{(not empty eventDetailsManagedBean.finalVenueInfo)}" />
																</td>
															</tr>
														</table>
													</div>
												</td>
											</tr>
										</table>
										<br />
										<table>
											<tr>
												<td valign="top">
													<div class="venue-image">

														<p:panel style="width:300px;margin-left:-25px;">
															<p:galleria panelHeight="200" panelWidth="290"
																showFilmstrip="false" style="margin-left:-12px;"
																value="#{eventDetailsManagedBean.hotelImages}"
																var="image">
																<p:graphicImage height="200px" width="290px"
																	value="#{image}" />
															</p:galleria>
															<p:lightBox>
																<ui:repeat
																	value="#{eventDetailsManagedBean.hotelImages}"
																	var="ima">
																	<h:outputLink value="#{ima}">
																		<p:graphicImage value="#{ima}" width="25" height="25" />
																	</h:outputLink>
																</ui:repeat>
															</p:lightBox>
															<br />
														</p:panel>


													</div>
												</td>
												<td valign="top">
													<div
														style="margin-right: -25px; margin-left: 35px; width: 490px;">
														<div class="box-new  bcgColor elementPackageHeading">Description</div>
														<table>
															<tr>
																<td>
																	<!-- <h:outputText styleClass="txtVendor"
														value="#{eventDetailsManagedBean.hallLocalMap.get(eventDetailsManagedBean.hallIndex).description}"></h:outputText> -->
																	<h:outputText styleClass="txtVendor"
																		value="#{eventDetailsManagedBean.venuePkg.description}"></h:outputText>
																</td>
															</tr>
														</table>
														<div class="box-new  bcgColor elementPackageHeading">Capacity</div>
														<table>
															<tr>
																<td><h:outputText styleClass="txtVendor"
																		value="#{eventDetailsManagedBean.hallLocalMap.get(eventDetailsManagedBean.hallIndex).capacity}"></h:outputText>
																</td>
															</tr>
														</table>
														<div class="box-new  bcgColor elementPackageHeading">Air
															Condition</div>
														<table>
															<tr>
																<td><h:outputText styleClass="txtVendor"
																		value="#{eventDetailsManagedBean.hallLocalMap.get(eventDetailsManagedBean.hallIndex).airConditioned}"></h:outputText>
																</td>
															</tr>
														</table>
														<div class="box-new  bcgColor elementPackageHeading">Stage</div>
														<table>
															<tr>
																<td><h:outputText styleClass="txtVendor"
																		value="#{eventDetailsManagedBean.hallLocalMap.get(eventDetailsManagedBean.hallIndex).stage}"></h:outputText>
																</td>
															</tr>
														</table>
													</div>
												</td>
											</tr>
										</table>
										<!-- <div class="middle">
										<div class="box-new  bcgColor" style="width: 775px;">Other
											Services</div>

										<div style="padding: 10px 10px 10px 10px;">
											<img title="Bar" src="images/service-bar.jpg" /> <img
												title="Car Park" src="images/service-car.jpg" width="37"
												height="38" /> <img title="Clinic"
												src="images/service-clinic.jpg" />
										</div>
									</div> -->
										<div class="middle" style="width: 775px;">
											<p:dataTable id="pkgtbl" var="pkg" styleClass="custom"
												value="#{eventDetailsManagedBean.venuePackages}"
												rowKey="#{pkg.packageId}">
												<f:facet name="header"> List of Packages  </f:facet>

												<p:column>
													<f:facet name="header">Package Name</f:facet>
													<p:commandLink value="#{pkg.packageName}" update="@form"
														action="#{eventDetailsManagedBean.populateVndrPkgData}"
														ajax="true" styleClass="commandlink">
														<f:setPropertyActionListener
															target="#{eventDetailsManagedBean.packId}"
															value="#{pkg.packageId}"></f:setPropertyActionListener>
													</p:commandLink>
												</p:column>

												<p:column>
													<f:facet name="header">Package Description </f:facet>
													<h:outputText style="white-space: pre-line"
														value="#{pkg.description}" />
												</p:column>

												<p:column
													rendered="#{eventDetailsManagedBean.popupViewVenue.venueTypeId == 3}">
													<f:facet name="header"> Total Cost <br /> (Package Cost*Total Guests) </f:facet>
													<h:outputText style="text-decoration:line-through"
														value="Rs. #{pkg.cost*eventDetailsManagedBean.totalCount} ">
														<f:convertNumber pattern="#" />
													</h:outputText>
													<br />
													<h:outputText styleClass="vheadText bold"
														value="Rs. #{pkg.finalAmount*eventDetailsManagedBean.totalCount} ">
														<f:convertNumber pattern="#" />
													</h:outputText>
												</p:column>
												<p:column
													rendered="#{eventDetailsManagedBean.popupViewVenue.venueTypeId != 3}">
													<f:facet name="header"> Total Cost <br /> (Package Cost)  </f:facet>
													<h:outputText style="text-decoration:line-through"
														value="Rs. #{eventDetailsManagedBean.getCost(pkg.cost)}">
														<f:convertNumber pattern="#" />
													</h:outputText>
													<br />
													<h:outputText styleClass="vheadText bold"
														value="Rs. #{eventDetailsManagedBean.getCost(pkg.finalAmount)}">
														<f:convertNumber pattern="#" />
													</h:outputText>
												</p:column>

												<p:column>
													<f:facet name="header">Select </f:facet>
													<p:commandButton update="servicesTab0" value="Book Now"
														styleClass="button_style" style="color: #000000;"
														type="submit"
														rendered="#{eventDetailsManagedBean.finalVenueInfo.packageId != pkg.packageId}"
														action="#{eventDetailsManagedBean.selectedFinalVenuePopup(pkg.packageId)}"
														ajax="false" onclick="PF('buiload').show()" />
												</p:column>

											</p:dataTable>
										</div>

										<br />

										<div class="popText">
											<table>
												<tr>
													<td><h:outputText
															style="font-style: normal; font-size: 20px; color: #000000; font-weight: bold;"
															value="About #{eventDetailsManagedBean.popupViewVenue.venueName}" /></td>
													<td style="float: right;"><a
														href="http://maps.google.com/?q= #{eventDetailsManagedBean.center}"
														style="font-weight: bold; font-size: 12px; color: #980000;"
														target="_NEW">Google Map</a></td>
												</tr>
											</table>
											<h:outputText styleClass="txt5"
												value="#{eventDetailsManagedBean.popupViewVenue.venueName},
																		#{eventDetailsManagedBean.popupViewVenue.areaName},
																		#{eventDetailsManagedBean.popupViewVenue.cityName}" />
											<br />
											<h:outputText styleClass="txtVendor"
												value="#{eventDetailsManagedBean.popupViewVenue.venueDesc}" />
										</div>

										<div class="middle" style="width: 800px;">
											<p:galleria panelHeight="600" panelWidth="800"
												showFilmstrip="true"
												style="margin-left:-12px;background: #000000;"
												value="#{eventDetailsManagedBean.hotelImages}" var="image">
												<p:graphicImage value="#{image}" />
											</p:galleria>
										</div>
										<br />
										<p:spacer width="100px" height="10px" />
										<br />
									</div>
								</p:panel>

								<p:dialog id="imgPkg" widgetVar="pkgImgModel" width="810"
									onCloseUpdate="@form" height="560" resizable="false"
									modal="true" appendToBody="true">
									<p:ajax event="close"
										listener="#{eventDetailsManagedBean.clearContents}"
										update="@form" />
									<p:galleria panelHeight="500" panelWidth="778"
										showFilmstrip="true" style="margin-left:-12px;"
										value="#{eventDetailsManagedBean.servicePkgImages}"
										var="image">
										<p:graphicImage height="600px" width="800px" value="#{image}" />
									</p:galleria>

								</p:dialog>


							</h:form>
						</div>
						<!--icons starts-->
						<div style="float: right; width: 63px; margin-top: 30px;">
							<a href="contact.jsf"><img src="images/icon2.png" border="0" /></a>
						</div>
						<!--icons ends-->
					</div>
					<div class="clear"></div>

				</div>

			</ui:define>

		</ui:composition>
	</h:body>
</f:view>
</html>