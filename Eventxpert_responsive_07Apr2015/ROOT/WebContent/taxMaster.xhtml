<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3c.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:c="http://java.sun.com/jsp/jstl/core">
    <h:head>
        <title>Costing Info</title>
         <style type="text/css">
            .ui-layout-center {                    
                overflow: hidden !important;
            }

            .ui-layout-center .ui-layout-unit-content {
                overflow:hidden !important;
            }   
            .ui-dialog {
                position:absolute;
                }
        </style>
    </h:head>
    <h:body>
    <ui:composition template="/template/admin/commonLayout.xhtml">
    <ui:define name="content">
      <div class="content-bg clear-both">
      <div class="lt-flap">
            <img src="images/left.png" alt="" />
    </div>
    <div class="flap-mid">
            <div class="black-shade">&#160;</div>
    </div>
    <div class="rt-flap">
            <img src="images/right.png" alt="" />
    </div>
    
      <div class="mid-contentAdmin">
          <h:form id="frm" prependId="false">
       
      <p:layout style="height: 800px">
     
          <p:layoutUnit position="west" size="200"> 
          
        <p:menu style="text-align: center; font-size: 15; font-family: Century Gothic;" model="#{taxManagedBean.model}" />
           
      </p:layoutUnit> 
          <p:layoutUnit style="text-align: center; font-variant: small-caps;  font-size: 18; font-family: Century Gothic;" position="center" header="#{taxManagedBean.stypecode}"> 
            
            <p:panel rendered="#{taxManagedBean.stypecode == 'Venue'}">
                <p:panel>
                <p:dataTable  style="text-align: center; font-size: 13px; font-family: Century Gothic;" paginator="true" rows="3" id="tblDetailsV" var="srv" value="#{taxManagedBean.spDetails}">                
            <p:column headerText="Venue">
                <h:outputText  value="#{srv.venueName}" />  
            </p:column>  
                <p:column headerText="Venue Type">
                <h:outputText  value="#{srv.venueTypeId.venueType}" />  
            </p:column> 
            <p:column headerText="Tax Details">  
                <p:commandButton value="Show" immediate="true" process="@this" action="#{taxManagedBean.showVenuePkg(srv)}" update=":frm:pkPanelV" />
            </p:column>              
            </p:dataTable>
            </p:panel>
             <br />
              <br />
              <p:panel>
              <p:panelGrid columns="2" id="pkPanelV" style="margin: 0 auto; text-align: center; font-size: 15px; font-family: Century Gothic;" >
                       <f:facet name="header">  
                           <h:outputText value="Tax Details -- #{taxManagedBean.selProv}" />
                       </f:facet>
                     
                         <h:outputText value="Vendor Name:" />  
                     
                         <h:outputText value=" #{taxManagedBean.selProv}" />  
                   
                         <h:outputText value="Tax" />  
                     
                         <p:inputText value="#{taxManagedBean.venueTaxMaster.tax}" />  
                         <h:outputText value="Active" />  
                          <p:selectOneRadio id="optionsV" value="#{taxManagedBean.venueTaxMaster.isActive}">  
                                <f:selectItem itemLabel="Yes" itemValue="Y" />  
                                <f:selectItem itemLabel="No" itemValue="N" /> 
                            </p:selectOneRadio>
                         
                      </p:panelGrid> 
                  <br/>                 
                  <p:commandButton value="Save" oncomplete="msgDlg.show()" update=":frm:pkPanelV" action="#{taxManagedBean.addVenueTax}" />                       
                  </p:panel>       
              </p:panel>
              
            <p:panel rendered="#{taxManagedBean.stypecode != 'Venue'}">
            <p:panel>
            <p:dataTable  style="text-align: center; font-size: 13px; font-family: Century Gothic;" paginator="true" rows="3" id="tblDetails" var="srv" value="#{taxManagedBean.spDetails}">                
            <p:column headerText="Provider Name">  
                <h:outputText  value="#{srv.serviceProviderName}" />
            </p:column>  

            <p:column headerText="Tax Details">  
                <p:commandButton value="Show Tax" immediate="true" process="@this"  action="#{taxManagedBean.showPkg(srv)}" update=":frm:pkPanel" />
            </p:column>              
            </p:dataTable>
             </p:panel>
              <br />
              <br />
              <p:panel>
              <p:panelGrid columns="2" id="pkPanel" style="margin: 0 auto; text-align: center; font-size: 15px; font-family: Century Gothic;" >
                       <f:facet name="header">  
                           <h:outputText value="Tax Details -- #{taxManagedBean.selProv}" />
                       </f:facet>
                     
                         <h:outputText value="Vendor Name:" />  
                     
                         <h:outputText value=" #{taxManagedBean.selProv}" />  
                   
                         <h:outputText value="Tax" />  
                     
                         <p:inputText value="#{taxManagedBean.taxMaster.tax}" />  
                         <h:outputText value="Active" />  
                          <p:selectOneRadio id="options" value="#{taxManagedBean.taxMaster.isActive}">  
                                <f:selectItem itemLabel="Yes" itemValue="Y" />  
                                <f:selectItem itemLabel="No" itemValue="N" /> 
                            </p:selectOneRadio>
                         
                      </p:panelGrid> 
                  <br/>                 
                  <p:commandButton value="Save" oncomplete="msgDlg.show()" update=":frm:pkPanel" action="#{taxManagedBean.addTax}" />                       
                  </p:panel>       
              </p:panel>
              
              <p:dialog  style="position: center; font-size: 15px" id="msgDlg"  widgetVar="msgDlg">  
                    <h:outputText value="Package Details saved!" />                   
              </p:dialog>
             
              
         </p:layoutUnit> 
          
      </p:layout>
       
      </h:form>
      </div>
      </div> 
    </ui:define>
    </ui:composition>
    </h:body>
</html>

