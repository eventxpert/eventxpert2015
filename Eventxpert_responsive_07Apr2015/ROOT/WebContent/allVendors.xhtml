<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3c.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
	<title>Costing Info</title>
</h:head>
<h:body>
	<ui:composition template="/template/admin/commonLayout.xhtml">
		<ui:define name="content">
			<div class="content-bg " style="clear: both;">
				<div style="float: left; width: 13px; margin-left: -1px;">
					<img src="images/left.png" />
				</div>
				<div style="float: left; width: 960px;">
					<div class="black-shade" />
				</div>
				<div style="float: left; width: 13px; margin-left: 1px;">
					<img src="images/right.png" />
				</div>
				<h:form id="frm">
					<div class="clear">
						<p:ring id="basic" value="#{vendorManagedBean.vendors}" var="item"
							style="width: 80%;margin: 85px ! important;">
							<p:outputPanel style="text-align: center;" layout="block">#{item}<br />
								<p:commandButton icon="ui-icon-search" title="View"
									action="#{vendorManagedBean.populateVendor}" ajax="true"
									update="@form:panelGrp">
									<f:setPropertyActionListener value="#{item}"
										target="#{vendorManagedBean.selectedVendor}" />
								</p:commandButton>
							</p:outputPanel>
						</p:ring>

						<h:panelGrid columns="1" id="panelGrp">							
							<p:fieldset id="hallfield"
								legend="Add #{vendorManagedBean.selectedVendor}"
								toggleable="true" toggleSpeed="200" collapsed="true"
								style="margin: -50px 0 0 190px;">
								<p:messages id="msgs" showDetail="true" showSummary="false"  />
								<h:panelGrid columns="2">
									<h:outputLabel value="Company Name *" styleClass="otherFields" />
									<p:inputText id="name" styleClass="fieldStyles"
										value="#{vendorManagedBean.venueName}">
										<f:validateLength minimum="2" maximum="100" disabled="true" />
									</p:inputText>
									<h:outputLabel value="City *" styleClass="otherFields" />
									<p:selectOneMenu id="Cities" label="City"
										value="#{vendorManagedBean.cityId}" effect="fade"
										style="width:218px" styleClass="inputArea">
										<f:selectItem itemLabel="--Select--" noSelectionOption="true"></f:selectItem>
										<f:selectItems value="#{vendorManagedBean.cityInfo}"></f:selectItems>
									</p:selectOneMenu>
									<h:outputLabel value="Location *" styleClass="otherFields" />
									<p:selectOneMenu id="locations" label="Location"
										value="#{vendorManagedBean.areaId}" effect="fade"
										style="width:218px" styleClass="inputArea">
										<f:selectItem itemLabel="--Select--" noSelectionOption="true"></f:selectItem>
										<f:selectItems value="#{vendorManagedBean.areaInfo}"></f:selectItems>
									</p:selectOneMenu>
									<h:outputLabel value="Venue Type" styleClass="otherFields" rendered="#{vendorManagedBean.venue}" />
									<p:selectOneMenu id="venuetype" rendered="#{vendorManagedBean.venue}"
										value="#{vendorManagedBean.venueTypeId}" effect="fade"
										style="width:218px" filter="true" styleClass="inputArea"
										filterMatchMode="startsWith">
										<f:selectItem itemLabel="--Select--" noSelectionOption="true"></f:selectItem>
										<f:selectItems value="#{vendorManagedBean.venueTypeInfo}"></f:selectItems>
									</p:selectOneMenu>
									<p:spacer width="120px" rendered="#{vendorManagedBean.venue}"></p:spacer>
									<h:panelGrid columns="2" rendered="#{vendorManagedBean.venue}">
										<p:selectBooleanCheckbox styleClass="checkBoxStyles"
											value="#{vendorManagedBean.parkingAvailable}" />
										<h:outputLabel value="Parking Available?"
											styleClass="otherFields" />
										<p:selectBooleanCheckbox styleClass="checkBoxStyles"
											value="#{vendorManagedBean.diningAvailable}" />
										<h:outputLabel value="Dining Available?"
											styleClass="otherFields" />
										<p:selectBooleanCheckbox styleClass="checkBoxStyles"
											value="#{vendorManagedBean.accomodationAvailable}" />
										<h:outputLabel value="Accomodation Available?"
											styleClass="otherFields" />
									</h:panelGrid>
									<h:outputLabel value="Email Id *" styleClass="otherFields" />
									<p:inputText label="Email Id" id="emailaddr"
										value="#{vendorManagedBean.emailId}" styleClass="fieldStyles"
										validatorMessage="Invalid email format or Email already Registered with us, Please try again">
										<f:validateRegex disabled="true"
											pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
										<p:ajax event="change" update="emailaddr" />
										<f:validateLength maximum="100" disabled="true" />
										<f:validator validatorId="emailValidator" disabled="true" />
									</p:inputText>
								</h:panelGrid>
								<br/>
								<p:commandButton id="createProfile" rendered="#{vendorManagedBean.venue}"
									styleClass="loginButton buttonStyle" value="Create #{vendorManagedBean.selectedVendor}"
									style="float:left;width:220px !important;" 
									action="#{vendorManagedBean.insertNewVenueDetails}" ajax="true" update="msgs hallfield dvtlist" />
								<p:commandButton id="createSProfile" rendered="#{!vendorManagedBean.venue}"
									styleClass="loginButton buttonStyle" value="Create #{vendorManagedBean.selectedVendor}"
									style="float:left;width:220px !important;"
									action="#{vendorManagedBean.insertNewServiceDetails}" ajax="true" update="msgs hallfield dstlist" />
							</p:fieldset>
							<br />
							<p:dataTable id="dstlist" var="dtl"
								value="#{vendorManagedBean.srvShown}"
								rendered="#{!vendorManagedBean.venue}"
								style="width:600px;padding-left:190px;">
								<f:facet name="header"> List of #{vendorManagedBean.selectedVendor}  </f:facet>
								<p:column headerText="Name">
									<h:outputText value="#{dtl.serviceProviderName}" />
								</p:column>
								<p:column headerText="Email Id">
									<p:commandLink value="#{dtl.userId.emailaddr}"
										styleClass="commandlink"
										action="#{vendorManagedBean.reDirectUser}">
										<f:setPropertyActionListener value="#{dtl}"
											target="#{vendorManagedBean.selectedSrvProvider}" />
									</p:commandLink>
								</p:column>
							</p:dataTable>
							<p:dataTable id="dvtlist" var="dtl"
								value="#{vendorManagedBean.vnuShown}"
								rendered="#{vendorManagedBean.venue}"
								style="width:600px;padding-left:190px;">
								<f:facet name="header"> List of #{vendorManagedBean.selectedVendor}  </f:facet>
								<p:column headerText="Name">
									<h:outputText value="#{dtl.venueName}" />
								</p:column>
								<p:column headerText="Email Id">
									<p:commandLink value="#{dtl.userId.emailaddr}"
										styleClass="commandlink"
										action="#{vendorManagedBean.reDirectVUser}">
										<f:setPropertyActionListener value="#{dtl}"
											target="#{vendorManagedBean.selectedVnuProvider}" />
									</p:commandLink>
								</p:column>
							</p:dataTable>
						</h:panelGrid>
						<br />
						<center>
							<img src="images/circulos-logo.png" border="0" />
						</center>
					</div>
				</h:form>
				<div class="clear"></div>
			</div>
		</ui:define>
	</ui:composition>
</h:body>
</html>

