<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3c.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<h:head>
	<title>Customer Registration</title>
</h:head>
<h:body>

	<ui:composition template="/template/common/commonLayout.xhtml">
		<ui:define name="content">
			<!--BODY CONTENT STARTS HERE-->
			<div class="content-bg clear-both">
				<div class="lt-flap">
					<img src="images/left.png" alt="" />
				</div>
				<div class="flap-mid">
					<div class="black-shade">&#160;</div>
				</div>
				<div class="rt-flap">
					<img src="images/right.png" alt="" />
				</div>
				<!--phone and chat icon starts -->
				<div class="icon-1-top">
					<a href="#"> <img src="images/icon2.png" border="0" alt="" /></a>
				</div>
				<!--phone and chat icon ends -->

				<div style="padding-left: 70px;">
					<h:form id="frm" prependId="false">
						<h1>Edit Profile</h1>
						<div style="width: 500px;padding-top:10px;">
							<p:messages />
						</div>
						<h:panelGrid columns="3">
							<h:outputLabel for="firstname1" value="Firstname: *" />
							<p:inputText id="firstname1" required="true" label="Firstname"
								value="#{customerManagedBean.customerInfo.firstname}">
								<f:validateLength minimum="2" maximum="50" />
							</p:inputText>
							<p:message for="firstname1" />

							<h:outputLabel for="surname1" value="Surname: *" />
							<p:inputText id="surname1" required="true" label="Surname"
								value="#{customerManagedBean.customerInfo.lastname}">
								<f:validateLength minimum="2" maximum="50" />
							</p:inputText>
							<p:message for="surname1" />

							<h:outputLabel for="phone1" value="Contact No: *" />
							<p:inputText id="phone1" onkeypress="return isNumberKey(event)"
								required="true" label="Contact No." maxlength="10"
								value="#{customerManagedBean.customerInfo.phone}" />
							<p:message for="phone1" />
							<h:outputLabel for="email1" value="Email: *" />
							<p:inputText id="email1" required="true" label="Email"
								value="#{customerManagedBean.customerInfo.email}"
								validatorMessage="Invalid email format">
								<f:validateRegex
									pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
								<p:ajax event="change" update="email1" />
							</p:inputText>
							<p:message for="email1" />


							<h:outputLabel for="address1" value="Address Line1: *" />
							<p:inputText id="address1" required="true" label="Address Line1"
								value="#{customerManagedBean.addressInfo.addressLine1}" />
							<p:message for="address1" />
							<h:outputLabel for="address2" value="Address Line2: " />
							<p:inputText id="address2" label="Address Line2"
								value="#{customerManagedBean.addressInfo.addressLine2}" />
							<p:message for="address2" />
							<h:outputLabel for="pCode" value="Postal Code: " />
							<p:inputText id="pCode" onkeypress="return isNumberKey(event)"
								label="Postal Code" maxlength="6"
								value="#{customerManagedBean.addressInfo.postalCode}"
								styleClass="wtSmllFld" />
							<p:message for="pCode" />
							<h:outputLabel for="area" value="Area: " />
							<p:selectOneMenu id="area" label="Area"
								value="#{customerManagedBean.customerInfo.areaId}">
								<f:selectItems value="#{customerManagedBean.areaList}" />
								<f:converter converterId="areaConverter" />
							</p:selectOneMenu>
							<p:message for="area" />

							<h:outputLabel for="description" value="Description: " />
							<p:inputText id="description" label="Description"
								value="#{customerManagedBean.customerInfo.description}" />
							<p:message for="description" />

						</h:panelGrid>
						<br />
						<p:commandButton value="Submit" ajax="false"
							styleClass="nextStepButton1 buttonStyle"
							onclick="PF('buiload').show()" validateClient="true"
							action="#{customerManagedBean.updateCustomer}" />
						<p:commandButton ajax="false" onclick="PF('buiload').show()"
							immediate="true" value="Cancel"
							action="#{customerManagedBean.cancelHome}" />

						<br />

						<!-- <p:panel rendered="#{customerManagedBean.chkReg == false}"
								id="loginPanel" header="Login">
								<p:messages for="Invalid credentials" />
								<h:panelGrid columns="3">
									<h:outputLabel for="userIdL" value="User ID: *" />
									<p:inputText maxlength="21" id="userIdL" required="true"
										label="User ID"
										value="#{customerManagedBean.customerInfo.userId}">
									</p:inputText>
									<p:message for="userIdL" />
									<h:outputLabel for="passwordL" value="Password: *" />
									<p:password maxlength="15" id="passwordL" required="true"
										label="Password"
										value="#{customerManagedBean.customerInfo.password}" />
									<p:message for="passwordL" />
								</h:panelGrid>
								<p:commandButton id="logbtn" ajax="false"
									onclick="PF('buiload').show()" value="Login"
									action="#{customerManagedBean.login}" />
								<p:commandButton ajax="false" onclick="PF('buiload').show()"
									immediate="true" value="Register"
									actionListener="#{customerManagedBean.register}" />

							</p:panel>
							<p:panel
								rendered="#{customerManagedBean.chkReg == true &amp;&amp; customerManagedBean.eprofile == false}"
								id="panel" header="Register">

								<p:focus context="panel" />

								<p:messages />

								<h:panelGrid columns="3">
									<h:outputLabel for="firstname" value="Firstname: *" />
									<p:inputText id="firstname" required="true" label="Firstname"
										value="#{customerManagedBean.customerInfo.firstname}">
										<f:validateLength minimum="2" maximum="50" />
									</p:inputText>
									<p:message for="firstname" />

									<h:outputLabel for="surname" value="Surname: *" />
									<p:inputText id="surname" required="true" label="Surname"
										value="#{customerManagedBean.customerInfo.lastname}">
										<f:validateLength minimum="2" maximum="50" />
									</p:inputText>
									<p:message for="surname" />

									<h:outputLabel for="userId" value="User ID: *" />
									<p:inputText maxlength="21" id="userId" required="true"
										label="User ID"
										value="#{customerManagedBean.customerInfo.userId}">
										<f:validator validatorId="usernameValidator" />
										<f:validateLength minimum="6" />
										<p:ajax event="keyup" update="usernameMessage" />
									</p:inputText>
									<p:message id="usernameMessage" for="userId" />
									<h:outputLabel for="password" value="Password: *" />
									<p:password
										placeholder="Should be a combination of alphabets and numbers and special characters"
										feedback="true" maxlength="15" id="password" required="true"
										label="Password"
										value="#{customerManagedBean.customerInfo.password}"
										inline="true">
										<f:validateLength minimum="8" maximum="20" />
									</p:password>
									<p:message for="password" />
									<h:outputLabel for="phone" value="Contact No: *" />
									<p:inputText id="phone" onkeypress="return isNumberKey(event)"
										required="true" label="Contact No." maxlength="10"
										value="#{customerManagedBean.customerInfo.phone}" />
									<p:message for="phone" />
									<h:outputLabel for="email" value="Email: *" />
									<p:inputText id="email" required="true" label="Email"
										value="#{customerManagedBean.customerInfo.email}"
										validatorMessage="Invalid email format  (or)  Email is already registered. Please try to login">
										<f:validateRegex
											pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
										<f:validator validatorId="emailValidator" />
										<p:ajax event="change" update="email" />
									</p:inputText>
									<p:message for="email" />

								</h:panelGrid>

								<p:commandButton value="Submit" ajax="false"
									onclick="PF('buiload').show()" validateClient="true"
									action="#{customerManagedBean.saveCustomer}" />
								<p:commandButton ajax="false" onclick="PF('buiload').show()"
									immediate="true" value="Cancel"
									action="#{customerManagedBean.cancel}" />
							</p:panel> -->



						<!-- <p:panel rendered="#{customerManagedBean.eprofile == true}"
								id="editPanel" header="Edit Profile" >

								

								<p:messages />

								<h:panelGrid columns="3">
									<h:outputLabel for="firstname1" value="Firstname: *" />
									<p:inputText id="firstname1" required="true" label="Firstname"
										value="#{customerManagedBean.customerInfo.firstname}">
										<f:validateLength minimum="2" maximum="50" />
									</p:inputText>
									<p:message for="firstname1" />

									<h:outputLabel for="surname1" value="Surname: *" />
									<p:inputText id="surname1" required="true" label="Surname"
										value="#{customerManagedBean.customerInfo.lastname}">
										<f:validateLength minimum="2" maximum="50" />
									</p:inputText>
									<p:message for="surname1" />

									<h:outputLabel for="phone1" value="Contact No: *" />
									<p:inputText id="phone1" onkeypress="return isNumberKey(event)"
										required="true" label="Contact No." maxlength="10"
										value="#{customerManagedBean.customerInfo.phone}" />
									<p:message for="phone1" />
									<h:outputLabel for="email1" value="Email: *" />
									<p:inputText id="email1" required="true" label="Email"
										value="#{customerManagedBean.customerInfo.email}"
										validatorMessage="Invalid email format">
										<f:validateRegex
											pattern="^[_A-Za-z0-9-\+]+(\.[_A-Za-z0-9-]+)*@[A-Za-z0-9-]+(\.[A-Za-z0-9]+)*(\.[A-Za-z]{2,})$" />
										<p:ajax event="change" update="email1" />
									</p:inputText>
									<p:message for="email1" />


									<h:outputLabel for="address1" value="Address Line1: *" />
									<p:inputText id="address1" required="true"
										label="Address Line1"
										value="#{customerManagedBean.addressInfo.addressLine1}" />
									<p:message for="address1" />
									<h:outputLabel for="address2" value="Address Line2: " />
									<p:inputText id="address2" label="Address Line2"
										value="#{customerManagedBean.addressInfo.addressLine2}" />
									<p:message for="address2" />
									<h:outputLabel for="pCode" value="Postal Code: " />
									<p:inputText id="pCode" onkeypress="return isNumberKey(event)"
										label="Postal Code" maxlength="6"
										value="#{customerManagedBean.addressInfo.postalCode}"
										styleClass="wtSmllFld" />
									<p:message for="pCode" />
									<h:outputLabel for="area" value="Area: " />
									<p:selectOneMenu id="area" label="Area"
										value="#{customerManagedBean.customerInfo.areaId}">
										<f:selectItems value="#{customerManagedBean.areaList}" />
										<f:converter converterId="areaConverter" />
									</p:selectOneMenu>
									<p:message for="area" />

									<h:outputLabel for="description" value="Description: " />
									<p:inputText id="description" label="Description"
										value="#{customerManagedBean.customerInfo.description}" />
									<p:message for="description" />

								</h:panelGrid>

								<p:commandButton value="Submit" ajax="false"
									onclick="PF('buiload').show()" validateClient="true"
									action="#{customerManagedBean.updateCustomer}" />
								<p:commandButton ajax="false" onclick="PF('buiload').show()"
									immediate="true" value="Cancel"
									action="#{customerManagedBean.cancelHome}" />
							</p:panel> -->

					</h:form>
				</div>
			</div>
		</ui:define>
	</ui:composition>
</h:body>
</html>