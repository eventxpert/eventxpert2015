<html xmlns="http://www.w3c.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets">
<h:head>

</h:head>
<h:body id="frmBody">

	<ui:composition template="/template/user/commonLayout.xhtml">
            <ui:define name="content">
		
<style type="text/css">
.customStyle .ui-state-default, .ui-widget-content .ui-state-default, .ui-widget-header .ui-state-default {
	background: none repeat scroll 0 0 #ffffff;
	color: #000000;
}
</style>

                <p:ajaxStatus onstart="PF('statusDialog').show();"
		onsuccess="PF('statusDialog').hide();" />
        
     <!--  <p:ajaxStatus onstart="PF('builoadL').show();" oncomplete="PF('builoadL').hide();" onsuccess="PF('builoadL').hide();"/>
-->
	<p:dialog modal="true" widgetVar="statusDialog" draggable="false"
                  closable="false" showHeader="false">
		<p:graphicImage value="/images/progress_bar.GIF" />
	</p:dialog>
			<div id="frmId" class="content-bg clear-both">
				<!--lt-flap starts-->
				<div class="lt-flap">
					<img src="images/left.png" />
				</div>
				<!--lt-flap ends-->
				<!--messag-heart starts-->
				<div class="flap-mid">
					<div class="black-shade">
						<div class="clear home">
							<!--Home &gt; &#160;-->
							<span></span>&#160;
						</div>
					</div>
				</div>
				<!--messag-heart ends-->
				<!--rt-flap starts-->
				<div class="rt-flap">
					<img src="images/right.png" />
				</div>
				<!--rt-flap ends-->
				<div class="clear">
					<!--mid contents starts-->
					<div class="mid-content">
						<!--select details starts-->
						<div class="clear">
							<h1 id="h1title">
								Enter&#160;<span>#{eventDetailsManagedBean.eventType}</span>&#160;Requirements
							</h1>
						</div>
						<!--select details ends-->
						<div class="clear">
							<!--details head starts-->
							<div class="box-nav1 active" id="divdetails">1.Enter
								Requirements</div>
							<!--details head ends-->
							<!--summary head starts-->
							<div class="box-nav2" id="divsummary">2.Select Vendor
								Packages</div>
							<!--summary head ends-->
							<!--Payment head starts-->
							<div class="box-nav3" id="divpayment">3.Review and Confirm</div>
							<!--Payment head ends-->
						</div>
                                                
                                               
                                                
						<h:form id="frm">
							<!--main details starts-->
							<div class="content" id="maindiv1">

								<ui:remove>
              If you want to change the event type select here:
              <p:selectOneMenu id="ddleventtype"
										value="#{eventDetailsManagedBean.eventTypeId}"
										valueChangeListener="#{eventDetailsManagedBean.listenEventList}">
										<f:selectItems var="evt" itemLabel="#{evt.value}"
											itemValue="#{evt.key}"
											value="#{eventDetailsManagedBean.eventTypeList.entrySet()}" />
									</p:selectOneMenu>
									<br />
									<br />
								</ui:remove>
								<!--main details left starts-->

								 <p:message	id="defaultMessage" for="txtdatepick1" />
								 <p:message id="msgAmount" for="txtBudget1" />
								<p:message id="venueErrMsg" for="venueRadio" />
								<p:message id="venueErrMsgK" for="serviceHidden" />
								<p:message id="msgGuest" for="txtGuest1" />
								<div class="where-sub hr-line-solid" id="divWhere">
									<table>
										<tr>
											<td><div class="grey-box">When?</div></td>
										</tr>
										<tr>
											<td><table class="sideBarForm">
													<tr>
														<th>Date:</th>
														<td><p:calendar id="txtdatepick1" styleClass="customStyle" 
																widgetVar="myCalendar" showOn="button" style="width:90px;"
																value="#{eventDetailsManagedBean.eventDate}"
																pattern="dd-MM-yyyy" required="true"
																requiredMessage="Please Select Date." /> <script
																type="text/javascript">
                                                    jQuery(document).ready(function(){
                                                        myCalendar.jqEl.datepicker("option", "minDate", +7);//set maxDate to today
                                                         myCalendar.jqEl.datepicker("option", "maxDate", +180);
                                                    });     
                                                </script></td>
													</tr>
													<tr>
														<th>Time:</th>
														<td class="customStyle"><p:selectOneMenu
																style="width: 120px; text-align: left" id="ddlTime1"
																value="Morning">
																<f:selectItem itemLabel="Morning " itemValue="Morning"  />
																<f:selectItem itemLabel="Noon" itemValue="Noon" />
																<f:selectItem itemLabel="Evening" itemValue="Evening" />
															</p:selectOneMenu></td>
													</tr>
												</table></td>
										</tr>
									</table>
									<div class="where-cont">										
										<!--where head starts-->
										<div class="grey-box">Where?</div>
										<!--where head ends-->
										<!--where cont starts-->
										<div class="clear">
											<div class="clear">
												<table class="sideBarForm">
													<tr>
														<th>City:</th>
														<td class="customStyle"><p:selectOneMenu 
																style="width: 120px; text-align: left" id="ddlCity1"
																value="#{eventDetailsManagedBean.city}"
																valueChangeListener="#{eventDetailsManagedBean.listenCityList}">
																<f:selectItems
																	value="#{eventDetailsManagedBean.cityList}" />
																<p:ajax update="ddlCity1,ddlAreaK1" />
															</p:selectOneMenu></td>
													</tr>
													<tr>
														<th>Area:</th>
														<td class="customStyle"><p:selectOneMenu 
																style="width: 120px; text-align: left" id="ddlAreaK1"
																value="#{eventDetailsManagedBean.area}">
																<f:selectItems
																	value="#{eventDetailsManagedBean.areaList}" />
																<f:validateLength minimum="1" maximum="10"
																	for="ddlAreaK1"></f:validateLength>

															</p:selectOneMenu> <p:message id="msgArea" for="ddlAreaK1" /></td>
													</tr>
												</table>
											</div>
										</div>
										<!--where cont ends-->
										<!--Budget head starts-->
										<div class="grey-box">Budget?</div>
										<!--Budget head ends-->
										<!--amt conts starts-->

										<table class="sideBarForm">
											<tr>
												<th>Amount:</th>
												
												<td class="customStyle">Rs. <p:inputText maxlength="8" widgetVar="txtBudget1" style="width: 90px;"
														onkeypress="return isNumberKeyWithoutZero(event,this)" 
														id="txtBudget1" required="true" 
														value="#{eventDetailsManagedBean.amount}"
														requiredMessage="Amount is required"
														converterMessage="Please enter digits only."
														validatorMessage="Amount should be a Number greater than 50000 and less than 10000000(1CRORE)">
														<f:validateLength minimum="5" maximum="10" />
                                                                                                                <f:validator validatorId="costValidator" />
													</p:inputText></td>														
											</tr>
										</table>

										<!--amt conts ends-->
										<!--Guests head starts-->
										<div class="grey-box">Guests?</div>
										<!--Guests head ends-->
										<!--Guests conts starts-->
										<table class="sideBarForm">

											<tr>
												<th>Guests #:</th>
												<td align="left" class="customStyle"><p:inputText maxlength="4" 
														id="txtGuest1" onkeypress="return isNumberKey(event)"
														required="true" style="width: 110px;"
														value="#{eventDetailsManagedBean.totalCount}"
														requiredMessage="Please enter total Guests"
														validatorMessage="Guests should be a number greater than 49 and less than 2000">
														<f:validateLength minimum="2" maximum="4" />
													</p:inputText> </td>
											</tr>


										</table>

									</div>

									<!--Guests conts ends-->
								</div>
								<!--main details left ends-->


								
								<!--main details middle starts-->

								<div class="select-venue hr-line-solid" id="divVenue">
									<div class="grey-box1">Select Venue</div>

									<p:selectOneRadio id="venueRadio" style="padding-left: 5px" styleClass="customStyle"
										value="#{eventDetailsManagedBean.venueRadio}" required="true"
										requiredMessage="Please Select a Venue" layout="custom">
										<f:selectItems value="#{eventDetailsManagedBean.venueMap}" />
										<p:ajax event="change" update="frm:dtlPanel"
											listener="#{eventDetailsManagedBean.disableCat}" />
									</p:selectOneRadio>


									<ui:repeat value="#{eventDetailsManagedBean.venueList}"
										var="event" varStatus="st">
										<div class="venueBox clearfix" id="#{event.id}">
											<div class="venue-radio">
												<h:panelGroup
													rendered="#{eventDetailsManagedBean.eventTypeId==6}">
													<p:radioButton rendered="#{event.id==1}" disabled="true" styleClass="customStyle"
														widgetVar="venueRadio#{st.count}" for=":frm:venueRadio"
														itemIndex="#{st.index}" />
													<p:radioButton rendered="#{event.id!=1}" styleClass="customStyle"
														widgetVar="venueRadio#{st.count}" for=":frm:venueRadio"
														itemIndex="#{st.index}" />
												</h:panelGroup>
												<h:panelGroup
													rendered="#{eventDetailsManagedBean.eventTypeId!=6}">
													<p:radioButton widgetVar="venueRadio#{st.count}" styleClass="customStyle"
														for=":frm:venueRadio" itemIndex="#{st.index}" />
												</h:panelGroup>
											</div>
											<!--select venue starts-->
											<div class="venue-img">
												<img title="#{event.desc}" id="img"
													src="images/venue/#{event.heading}_Event.jpg" />

											</div>
											<!--select venue ends-->
											<div class="txt4 venue-img-txt">
												<span class="style2"><h:outputLabel id="ven"
														value="#{event.heading}" /></span>
												<p:tooltip for="ven" styleClass="txt4 venue-img-txt"
													style="font-size: 13px" value="#{event.desc}"
													showEffect="slide" hideEffect="slide" />
											</div>

										</div>
										<div class="ht-2"></div>
										<div class="hr-dot-line">&#160;</div>
									</ui:repeat>
								</div>
								<!--main details middle ends-->


								<!--main details right starts-->
								<div class="select-services hr-line-solid" id="divServices">
									<div class="grey-box1">Select Services</div>
									<p:outputPanel id="dtlPanel">
										<ui:repeat value="#{eventDetailsManagedBean.serviceList}"
											var="eventS" varStatus="swt">

											<div class="venueBox clearfix">
												<div class="venue-radio">

													<p:selectBooleanCheckbox rendered="#{eventS.id == 'CATR'}"
														disabled="#{eventDetailsManagedBean.disCat}" styleClass="customStyle"
														widgetVar="serviceChkBox#{eventS.id}" id="serviceChkBox" 
														value="#{eventS.selected}" required="true">
													</p:selectBooleanCheckbox>
													<p:selectBooleanCheckbox rendered="#{eventS.id != 'CATR'}" styleClass="customStyle"
														widgetVar="serviceChkBox#{eventS.id}" id="serviceChkBox1"
														value="#{eventS.selected}" required="true">
														
													</p:selectBooleanCheckbox>

												</div>
												<!--select venue img starts-->
												<div class="venue-img">
													<p:graphicImage title="#{eventS.desc}" value="images/service/#{eventS.heading}_Service.jpg"  rendered="#{eventS.id == 'CATR'}"
														styleClass="#{eventDetailsManagedBean.disCat ? 'true' : 'false'}"></p:graphicImage>
													<p:graphicImage title="#{eventS.desc}" value="images/service/#{eventS.heading}_Service.jpg"  rendered="#{eventS.id != 'CATR'}"
														></p:graphicImage>
													
												</div>
												<!--select venue img ends-->
												<div class="txt4 venue-img-txt">
													<h:outputLabel id="srvi" value="#{eventS.heading}" rendered="#{eventS.id == 'CATR'}"
														styleClass="#{eventDetailsManagedBean.disCat ? 'true' : 'false'}" />
													<h:outputLabel id="srvic" value="#{eventS.heading}" rendered="#{eventS.id != 'CATR'}"  />
													<p:tooltip for="srvi, srvic" styleClass="txt4 venue-img-txt"
														style="font-size: 13px" value="#{eventS.desc}"
														showEffect="slide" hideEffect="slide" />													
												</div>

											</div>
											<div class="ht-15"></div>
											<div class="hr-dot-line">&#160;</div>
										</ui:repeat>
										<!--<div align="center" class="txt2" style="clear: both; padding-top: 10px;">
                                    Show More</div>-->
									</p:outputPanel>
								</div>

								<h:inputHidden value="#{eventDetailsManagedBean.serviceHidden}"
									id="serviceHidden" />
								<!--main details right ends-->
								<!--next button starts-->

								<div align="right" class="nxt-btn-top">

									<!--  <h:panelGroup rendered="#{eventDetailsManagedBean.userId==null}">
                    <p:commandLink onclick="confirmation.show()" id="imgbtnnext1s" value="Next" styleClass="nextStepButton" >
                       
                </p:commandLink>
                    
                </h:panelGroup>
                <h:panelGroup rendered="#{eventDetailsManagedBean.userId!=null}"> -->
									<p:commandButton immediate="true" id="imgbtnnext1C"
										styleClass="nextStepButton1"
										validateClient="false" onclick="cancelConfirmation.show()"
										value="Cancel">
										<!--<h:outputLabel value="Cancel" />-->
									</p:commandButton>
									<p:commandButton styleClass="nextStepButton1 buttonStyle"
										id="imgbtnnext1" onclick="PF('statusDialog').show()"
										action="#{eventDetailsManagedBean.nextScreen}" value="Next"
										ajax="false">
										<!--<h:outputLabel value="Next" />-->
									</p:commandButton>
									<!-- </h:panelGroup> -->

									<p:confirmDialog widgetVar="cancelConfirmation"
										closable="false" header="Cancel Session"
										message="Are You Sure you want to cancel the session"
										showEffect="fade" hideEffect="explode">
										<p:commandButton immediate="true" value="Yes" ajax="true"
											action="#{customerManagedBean.goLoginPage}"
											styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
										<p:commandButton type="button" value="No"
											onclick="cancelConfirmation.hide()"
											styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
									</p:confirmDialog>
									<!--next button ends-->
								</div>
								<p:confirmDialog widgetVar="confirmation" closable="false"
									header="Register" message="Register before proceeding"
									showEffect="fade" hideEffect="explode">
									<p:commandButton value="Yes"
										action="#{eventDetailsManagedBean.loginForm}"
										styleClass="ui-confirmdialog-yes" icon="ui-icon-check"
										onsuccess="loginDialog.show()" />
									<p:commandButton value="No" ajax="false"
										action="#{eventDetailsManagedBean.nextScreen}"
										styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
								</p:confirmDialog>

							</div>
							<!--main details ends-->

							<p:outputPanel id="panel1"
								rendered="#{empty eventDetailsManagedBean.userId}">
								<p:dialog resizable="false" modal="true" dynamic="true"
									position="center" id="eventDialog" widgetVar="eventDialog"
									width="570" height="470">
									<ui:include src="customerRegDlg.xhtml" />
								</p:dialog>
							</p:outputPanel>
							<p:outputPanel id="panel2"
								rendered="#{empty eventDetailsManagedBean.userId}">
								<p:dialog resizable="false" modal="true" dynamic="true"
									 position="center" id="loginDialog" widgetVar="loginDialog"
									width="570" height="470" >
									<p:ajax event="close" listener="#{customerManagedBean.handleClose}" update="group" />
									<ui:include src="loginDlg.xhtml" />
								</p:dialog>
							</p:outputPanel>
						</h:form>
					</div>
					<!--icons starts-->
					<div style="float: right; width: 63px; margin-top: 30px;">
						<a href="contact.jsf"><img src="images/icon2.png" border="0" /></a>
					</div>
					<!--icons ends-->
				</div>
				<div class="clear"></div>
			</div>
		</ui:define>
	</ui:composition>
</h:body>
</html>