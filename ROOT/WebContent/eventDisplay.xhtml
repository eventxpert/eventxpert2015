<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3c.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<h:head>
	<title>Facelet Title</title>
</h:head>
<h:body>
<style type="text/css">
.ui-dialog .ui-accordion-header .ui-helper-reset .ui-state-default .ui-state-active .ui-corner-top .tabttitle {
background: none repeat scroll 0 0 #980000 !important;
color: #212121 !important;
}

/* .ui-state-active, .ui-widget-content .ui-state-active, .ui-widget-header .ui-state-active {
background: none repeat scroll 0 0 #980000 !important;

} */
</style>

	<div class="content-bg clear-both">
		<div>
			<!--mid contents starts-->
			<div >
				<!-- <h:form id="frm"> -->
				<!--details starts-->
				<div id="maindiv2">
					<!--details ends-->
					<!--summary details left panel starts-->
					<div >
						<!--summary lt-panel starts-->
						<div >
							<div class="evleftbar">
								<p:accordionPanel style="background: #a87878;" id="ap"
									activeIndex="0,1,2">
									<p:tab titleStyleClass="tabttitle" id="evntDts"
										title="Event Details">

										<table class="sideBarForm2">
											<tr>
												<th style="font-weight: bold;">Event Date:</th>
												<td><h:outputText
														value="#{eventHistoryManagedBean.eventInfoSingle.eventEffectiveDate}">
														<f:convertDateTime pattern="dd-MM-yyyy" />
													</h:outputText></td>
											</tr>
											<tr class="hr-line-dot">
												<th style="font-weight: bold;">Location:</th>
												<td>#{eventHistoryManagedBean.area},
													#{eventHistoryManagedBean.city}</td>
											</tr>
											<tr class="hr-line-dot">
												<th style="font-weight: bold;">Venue Type:</th>
												<td>#{eventHistoryManagedBean.eventInfoSingle.venueType.getVenueDescription()}</td>
											</tr>
											<tr class="hr-line-dot">
												<th style="font-weight: bold;">Guests:</th>
												<td>#{eventHistoryManagedBean.eventInfoSingle.estimatedGuests}</td>
											</tr>
										</table>
									</p:tab>


									<p:tab titleStyleClass="tabttitle" id="srvRqst" 
										title="Service Request">
										<div id="divWhere">
											<div class="where-cont-new">
												<!--When head starts-->
												<div class="grey-box-new">Venue</div>
												<!--When head ends-->
												<table class="sideBarForm2">
													<c:forEach
														items="#{eventHistoryManagedBean.venuesD.entrySet().toArray()}"
														var="venue" varStatus="stVenue">
														<c:forEach items="#{venue.value.entrySet().toArray()}"
															var="service" varStatus="stVenue">
															<tr>
																<th colspan="2">#{service.key.getVenueName()}</th>
															</tr>
															<tr>
																<td><h:outputText value="Amount: " /></td>
																<td><h:outputText styleClass="amount-style"
																		value="Rs. #{service.value.eventServiceProviderTotamt}" /></td>
															</tr>
															<tr>
																<td><h:outputText
																		value="Tax (#{service.value.eventServiceProviderTax}%): " /></td>
																<td><h:outputText styleClass="amount-style"
																		value="Rs. #{service.value.eventServiceProviderTaxamt} " />
																</td>
															</tr>
															<tr>
																<td><h:outputText value="Sub Total: " /></td>
																<td><h:outputText styleClass="amount-style"
																		value="Rs. #{service.value.eventServiceProviderCost}" /></td>
															</tr>
														</c:forEach>
													</c:forEach>
												</table>
												<c:forEach
													items="#{eventHistoryManagedBean.servicesD.entrySet().toArray()}"
													var="venue" varStatus="stVenue">
													<div class="grey-box-new">#{venue.key}</div>
													<table class="sideBarForm2">
														<c:forEach items="#{venue.value.entrySet().toArray()}"
															var="service" varStatus="stVenue">
															<tr>
																<th colspan="2">#{service.key.getServiceProviderName()}</th>
															</tr>
															<tr>
																<td><h:outputText value="Amount: " /></td>
																<td><h:outputText styleClass="amount-style"
																		value="Rs. #{service.value.eventServiceProviderTotamt}" /></td>
															</tr>
															<tr>
																<td><h:outputText
																		value="Tax (#{service.value.eventServiceProviderTax}%): " /></td>
																<td><h:outputText styleClass="amount-style"
																		value="Rs. #{service.value.eventServiceProviderTaxamt}" /></td>
															</tr>
															<tr>
																<td><h:outputText value="Sub Total: " /></td>
																<td><h:outputText styleClass="amount-style"
																		value="Rs. #{service.value.eventServiceProviderCost}" /></td>
															</tr>
														</c:forEach>
													</table>
												</c:forEach>
											</div>
										</div>
									</p:tab>
									<p:tab titleStyleClass="tabttitle" id="totalTab"
										title="Cost Details">
										<table class="sideBarForm2">
											<tr>
												<th>Total Charges:</th>
												<td style="font-weight: bold;">Rs.
													#{eventHistoryManagedBean.eventInfoSingle.totalAmount}</td>
											</tr>
											<tr class="hr-line-dot">
												<th>Service Charges (8%):</th>
												<td style="font-weight: bold;">Rs.
													#{eventHistoryManagedBean.eventInfoSingle.serviceCharges}</td>
											</tr>
											<tr class="hr-line-dot">
												<th>Service Tax (12.36%):</th>
												<td style="font-weight: bold;">Rs.
													#{eventHistoryManagedBean.eventInfoSingle.serviceTax}</td>
											</tr>
											<tr class="hr-line-dot">
												<th>Total Amount:</th>
												<td style="font-weight: bold;">Rs.
													#{eventHistoryManagedBean.eventInfoSingle.cost}</td>
											</tr>
										</table>
									</p:tab>
								</p:accordionPanel>

							</div>
							<!--summary details left panel ends-->

							<div class="evrightbar">
								<h2 style="padding-top: 5px;">#{eventHistoryManagedBean.eventInfoSingle.eventType.eventType}
									event package details</h2>
								<br />
                                                                <h:commandLink styleClass="commandlink" style="font-family: Century Gothic;font-size:14px;"
                                                                            action="#{eventDetailsManagedBean.changeScreen(0)}"
                                                                            value="Change Venue">
                                                                            <f:param name="selectedBCService" value="Venue" />
                                                                    </h:commandLink>
								<c:forEach
									items="#{eventHistoryManagedBean.venuesD.entrySet().toArray()}"
									var="finalV">
									<c:forEach items="#{finalV.value.entrySet().toArray()}"
										var="service">
										<div class="bd_pack_ven">
											<div class="ev_rt_venue">
												<span>#{finalV.key}</span>
											</div>
											<div class="bd_ven_content">
												<p:graphicImage height="100px" width="100px"
													id="slider#{st.count}"
													value="#{eventDetailsManagedBean.getHotelImagesSm(service.key.venueId).get(0)}" />
												<p:spacer width="20px" height="100px"></p:spacer>
												<div class="bd_all_content">
													<h3>#{service.key.getVenueName()}</h3>
													<p>
														<span>Address:</span>
														#{service.key.getAddressId().addressLine1},
														#{service.key.getAddressId().addressLine2},
														#{service.key.getAddressId().cityId}
													</p>													
												</div>
											</div>
										</div>
									</c:forEach>
								</c:forEach>

								<c:forEach
									items="#{eventHistoryManagedBean.servicesD.entrySet().toArray()}"
									var="finalV">
									<c:forEach items="#{finalV.value.entrySet().toArray()}"
										var="service">
										<div class="bd_pack_ven">
											<div class="ev_rt_venue">
												<span>#{finalV.key}</span>
											</div>
											<div class="bd_ven_content">
												<p:graphicImage height="100px" width="100px"
													value="#{eventDetailsManagedBean.getServiceImagesSm(service.key.serviceProviderId).get(0)}" />
												<p:spacer width="20px" height="100px"></p:spacer>
												<div class="bd_all_content">
													<h3>#{service.key.getServiceProviderName()}</h3>
													<p>
														<span>Address:</span>
														#{service.key.getAddressId().addressLine1},
														#{service.key.getAddressId().addressLine2},
														#{service.key.getAddressId().cityId}
													</p>
												</div>
											</div>
										</div>
									</c:forEach>
								</c:forEach>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</h:body>
</html>

