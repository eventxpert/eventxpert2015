<html xmlns="http://www.w3c.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:m="http://code.google.com/p/gmaps4jsf/">


<h:body>
	<style type="text/css">
.old {
	background: #FBF2EF;
}
</style>
	<style type="text/css">
.ui-layout-unit {
	border: none;
}

.panelgrid tr {
	border: none;
}

.panelgrid td {
	border: none;
}

.ui-layout-center {
	overflow: hidden !important;
	border: none;
}

.ui-layout-container {
	overflow: visible !important;
	border: none;
}

.ui-layout-center .ui-layout-unit-content {
	overflow: hidden !important;
	border: none;
}
</style>
	<p:layout>
		<p:layoutUnit position="north" style="height: 20%">
			<p:layout>
				<p:layoutUnit style="height: 50px;padding-bottom: 10;"
					position="north">
					<div class="clear">
						<div class="wd-627">
							<h1>#{eventDetailsManagedBean.popupViewVenue.venueName}</h1>
							<span class="txt4"><span id="spnHotelAddress">#{eventDetailsManagedBean.popupViewVenue.areaName},
									#{eventDetailsManagedBean.popupViewVenue.cityName}</span></span> <br />
						</div>
						<div class="wd-108">
							<div class="wd-108">
								<div align="right" class="Rs">
									<h:outputText style="text-decoration:line-through"
										value="Rs. #{eventDetailsManagedBean.popupViewVenue.venueCost}"
										rendered="#{(empty eventDetailsManagedBean.finalVenueInfo)}" ><f:convertNumber pattern="#" /></h:outputText>
									<br /> 
									<h:outputText styleClass="vheadText"
										style="font-weight: bold;font-size: 20px;"
										value="Rs. #{eventDetailsManagedBean.popupViewVenue.finalCOST}"
										rendered="#{(empty eventDetailsManagedBean.finalVenueInfo)}" ><f:convertNumber pattern="#" /></h:outputText>
									<h:outputText styleClass="wd-108"
										style="alignment-adjust: right"
										value="Rs. #{eventDetailsManagedBean.finalVenueInfo.cost}"
										rendered="#{(not empty eventDetailsManagedBean.finalVenueInfo)}" ><f:convertNumber pattern="#" /></h:outputText>
								</div>
							</div>
						</div>
					</div>

				</p:layoutUnit>


				<p:layoutUnit position="west" minSize="320">
					<div>
						<div style="text-transform: uppercase">Slideshow</div>
						<br />

						<p:galleria panelHeight="200" panelWidth="300" id="gallery"
							value="#{eventDetailsManagedBean.hotelImages}" var="image">
							<ui:remove>
								<p:graphicImage height="200px" width="300px"
									value="images/#{image}" />
							</ui:remove>
							<p:graphicImage height="200px" value="#{image}" />
						</p:galleria>

					</div>
					<br />
					<div style="padding-bottom: 0px">
						<div style="text-transform: uppercase">Services</div>

						<div>
							<img title="Bar" src="images/service-bar.jpg" /> <img
								title="Car Park" src="images/service-car.jpg" width="37"
								height="38" /> <img title="Clinic"
								src="images/service-clinic.jpg" />
						</div>
					</div>
				</p:layoutUnit>
				<p:layoutUnit position="center">

				</p:layoutUnit>
				<p:layoutUnit position="east" minSize="320">
					<div>
						<div style="text-transform: uppercase">Map</div>
						<br />

						<p:gmap model="#{eventDetailsManagedBean.circleModel}"
							draggable="false" center="#{eventDetailsManagedBean.center}"
							zoom="20" type="HYBRID" fitBounds="true" streetView="true"
							style="width:320px;height:300px" />
					</div>
				</p:layoutUnit>

			</p:layout>

		</p:layoutUnit>



		<p:layoutUnit position="center">


			<!-- popup details starts -->
			<div id="popTab1-content" class="clwrapper popUpTabContents">
				<div class="clabout">

					<p style="font-style: normal; font-size: 20px; color: #000000;">About
						#{eventDetailsManagedBean.popupViewVenue.venueName}</p>
					<h:outputText value="#{eventDetailsManagedBean.popupViewVenue.venueDesc}" />
				</div>
				<div>

					<p:panelGrid styleClass="panelgrid">
						<p:row>
							<p:column>
								<p:outputLabel value="Select a Banquet Hall:" />
							</p:column>
							<p:column>
								<p:selectOneMenu label="Banquet Hall" style="size: 30px"
									value="#{eventDetailsManagedBean.hallId}">
									<p:ajax listener="#{eventDetailsManagedBean.listenHallChange}"
										update="hallgrid,hallgallery" />
									<f:selectItems var="hall" itemValue="#{hall.key}"
										itemLabel="#{hall.value}"
										value="#{eventDetailsManagedBean.hallMap.entrySet()}" />
								</p:selectOneMenu>
							</p:column>
						</p:row>
					</p:panelGrid>
					<p:panelGrid id="hallgrid">
						<f:facet name="header">
							<p:row>
								<p:column colspan="2">Hall Description -- #{eventDetailsManagedBean.hallLocalMap.get(eventDetailsManagedBean.hallIndex).hallName}</p:column>
							</p:row>
						</f:facet>
						<p:row>
							<p:column colspan="2">#{eventDetailsManagedBean.hallLocalMap.get(eventDetailsManagedBean.hallIndex).description}</p:column>
						</p:row>
						<ui:remove>
							<p:row>
								<p:column colspan="2">
									<p:spacer height="0" />
								</p:column>
							</p:row>
						</ui:remove>
						<p:row>
							<p:column style="width: 20%; " styleClass="ui-widget-header">Capacity:</p:column>
							<p:column>#{eventDetailsManagedBean.hallLocalMap.get(eventDetailsManagedBean.hallIndex).capacity}</p:column>
						</p:row>
						<p:row>
							<p:column style="width: 20%; " styleClass="ui-widget-header">Air Conditioning:</p:column>
							<p:column>#{eventDetailsManagedBean.hallLocalMap.get(eventDetailsManagedBean.hallIndex).airConditioned}</p:column>
						</p:row>
						<p:row>
							<p:column style="width: 20%;" styleClass="ui-widget-header">Stage:</p:column>
							<p:column>#{eventDetailsManagedBean.hallLocalMap.get(eventDetailsManagedBean.hallIndex).stage}</p:column>
						</p:row>
						<p:row>
							<p:column colspan="2">
								<p:galleria style="width:300px; height:250px" panelHeight="200"
									panelWidth="300" id="hallgallery"
									value="#{eventDetailsManagedBean.hotelHallImages}" var="image">

									<p:graphicImage height="200px" value="#{image}" />
								</p:galleria>
							</p:column>
						</p:row>


					</p:panelGrid>

				</div>
				<p>
					&#160;&#160;<br />

				</p>
				<div class="cldetails">
					<p:dataTable id="pkgtbl" var="pkg"
						value="#{eventDetailsManagedBean.venuePackages}"
						rowKey="#{pkg.packageId}"
						rowStyleClass="#{eventDetailsManagedBean.finalVenueInfo.packageId == pkg.packageId ? 'old' : null}">
						<f:facet name="header">  
                                                        List of Packages  
                                                    </f:facet>
						<!-- <p:column style="visibility: hidden"> 
                                                        <f:facet name="header">
                                                        Package Id
                                                        </f:facet>
                                                        
                                                        <h:outputText  value="#{pkg.packageId}" />  
                                                       
                                                    </p:column> -->
						<p:column>
							<f:facet name="header">
                                                        Package Name
                                                        </f:facet>

							<h:outputText value="#{pkg.packageName}" />

						</p:column>
						<p:column>
							<f:facet name="header">
                                                        Package Description
                                                        </f:facet>

							<h:outputText style="white-space: pre-line"
								value="#{pkg.description}" />

						</p:column>

						<p:column>
							<f:facet name="header">
                                                        Package Cost
                                                        </f:facet>
							<h:outputText style="text-decoration:line-through"
								value="Rs. #{pkg.cost}" ><f:convertNumber pattern="#" /></h:outputText>
							<br />
							<h:outputText styleClass="vheadText bold" value="Rs. #{pkg.finalAmount}" ><f:convertNumber pattern="#" /></h:outputText>
						</p:column>

						<p:column
							rendered="#{eventDetailsManagedBean.popupViewVenue.venueTypeId == 3}">
							<f:facet name="header">
                                                        Total Cost <br /> (Package Cost*Total Guests)
                                                        </f:facet>
							<h:outputText style="text-decoration:line-through"
								value="Rs. #{pkg.cost*eventDetailsManagedBean.totalCount} " >
								<f:convertNumber pattern="#" />
								</h:outputText>
							<br />
							<h:outputText styleClass="vheadText bold"
								value="Rs. #{pkg.finalAmount*eventDetailsManagedBean.totalCount} " >
								<f:convertNumber pattern="#" /></h:outputText>
						</p:column>
						<p:column
							rendered="#{eventDetailsManagedBean.popupViewVenue.venueTypeId != 3}">
							<f:facet name="header">
                                                        Total Cost <br /> (Package Cost)
                                                        </f:facet>
							<h:outputText style="text-decoration:line-through"
								value="Rs. #{pkg.cost}" ><f:convertNumber pattern="#" /></h:outputText>
							<br />
							<h:outputText styleClass="vheadText bold" value="Rs. #{pkg.finalAmount}" ><f:convertNumber pattern="#" /></h:outputText>
						</p:column>

						<p:column>
							<f:facet name="header">
                                                        Select
                                                        </f:facet>
							<p:commandButton update="servicesTab0" value="Book Now"
								rendered="#{eventDetailsManagedBean.finalVenueInfo.packageId != pkg.packageId}"
								actionListener="#{eventDetailsManagedBean.selectedFinalVenuePopup(pkg.packageId)}"
								ajax="false" onclick="PF('buiload').show()" />
                                                        <p:commandButton update="servicesTab0" value="Booked" disabled="true"
								rendered="#{eventDetailsManagedBean.finalVenueInfo.packageId == pkg.packageId}"								
								ajax="false" onclick="PF('buiload').show()" />
						</p:column>

					</p:dataTable>

					<!-- <h:outputText value="#{eventDetailsManagedBean.popupViewVenue.venueId}" /> -->
					<p></p>
				</div>
			</div>

		</p:layoutUnit>

	</p:layout>

</h:body>
</html>
